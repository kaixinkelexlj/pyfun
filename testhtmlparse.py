#-*- coding: UTF-8 -*-from HTMLParser import HTMLParserimport urllibimport sysimport __init__reload(sys)sys.setdefaultencoding('utf-8')class parselinks(HTMLParser):	def __init__(self):		self.data=[]		self.href=0		self.linkname=''		HTMLParser.__init__(self)	def handle_starttag(self,tag,attrs):		print 'handle_starttag %s,%s' % (tag, attrs)		if tag =='a':			for name,value in attrs:				if name == 'href':					self.href = 1	def handle_data(self,data):		print 'handle_data %s' % (data)		if self.href:			self.linkname += data	def handle_endtag(self,tag):		print 'handle_endtag %s' % (tag)		if tag=='a':			self.linkname=''.join(self.linkname.split())			self.linkname=self.linkname.strip()			if self.linkname:				self.data.append(self.linkname)			self.linkname=''			self.href=0	def getresult(self):		for value in self.data:			print value			class myParselinks(HTMLParser):	def __init__(self):		self.data=[]		self.tagOk=0		self.linkname=''		HTMLParser.__init__(self)	def handle_starttag(self,tag,attrs):		if tag =='input':			#print 'handle_starttag %s,%s' % (tag, attrs)			for name,value in attrs:				if(name == 'type' and value == 'submit'):					vv = [v for k,v in attrs if k == 'value']					print str(''.join(vv).encode('gbk'))				def handle_data(self,data):		pass	def handle_endtag(self,tag):		pass	def getresult(self):		for value in self.data:			print value			if __name__=="__main__":	#IParser = parselinks()	print "start..."	IParser = myParselinks();	html = urllib.urlopen("https://www.google.com.hk/search?newwindow=1&safe=strict&q=python+%E6%8E%A8%E5%AF%BC&oq=python+%E6%8E%A8%E5%AF%BC&gs_l=serp.3...1217.6630.0.6833.21.13.0.0.0.0.0.0..0.0....0...1c.1j4.64.serp..21.0.0.MxVG1Ochspc").read()	#print html	IParser.feed(html)	IParser.getresult()	IParser.close()